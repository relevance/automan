(function(){window.Automan={_log:function(){var a=Array.prototype.slice,b=1<=arguments.length?a.call(arguments,0):[];return b.unshift("Automan"),typeof console!="undefined"&&console!==null&&console.log.apply(console,b),this},_dispatchMouseEvent:function(a,b,c,d){var e=document.createEvent("MouseEvents"),f,g;return e.initMouseEvent(a,!0,!0,window,0,f,g,b,c,!1,!1,!1,!1,0,null),d.dispatchEvent(e)},_coordsWithOffset:function(a,b,c){var d=c.offset(),e=d.left+a,f=d.top+b;return[e,f]},_debugRealEvents:function(){var a=this,b=function(b){return a._log(b.type,b)};return jQuery("body").click(b),jQuery("body").mousedown(b),jQuery("body").mousemove(function(b){return a._log(b.type)}),jQuery("body").mouseup(b),this},on:function(a){return jQuery(a).trigger("click"),this},then:function(){return this},at:function(a){var b=jQuery(a.within),c=a.leftOffset,d=a.topOffset,e=this._coordsWithOffset(c,d,b),f=e[0],g=e[1],h=b.get(0);return(c===0||d===0)&&this._log("WARN: offset was 0, maybe you should double-check it?","leftOffset",c,"topOffset",d),this._dispatchMouseEvent("mousedown",f,g,h),this._dispatchMouseEvent("mouseup",f,g,h),this._dispatchMouseEvent("click",f,g,h),this},drag:function(a){var b=jQuery(a.within),c=a.from,d=a.to,e=this._coordsWithOffset(c[0],c[1],b),f=this._coordsWithOffset(d[0],d[1],b),g=b.get(0),h=e[0],i=e[1],j=f[0],k=f[1];return this._dispatchMouseEvent("mousedown",h,i,g),this._dispatchMouseEvent("mousemove",h,i,g),this._dispatchMouseEvent("mousemove",j,k,g),this._dispatchMouseEvent("mouseup",j,k,g),this}}}).call(this)